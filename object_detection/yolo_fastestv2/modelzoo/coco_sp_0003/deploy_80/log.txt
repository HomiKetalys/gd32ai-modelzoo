{'data': 'modelzoo/coco_sp_0003/coco_sp.data', 'model_path': 'modelzoo/coco_sp_0003/best.pth', 'convert_type': 1, 'tflite_val_path': '../../../datasets/coco2017/images/val2017', 'c_project_path': None, 'stm32cubeai_path': 'D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1', 'series': 'h7', 'conf_thr': 0.3, 'nms_thr': 0.5, 'eval': True, 'compiler': 1}
pytorch_model_path:modelzoo/coco_sp_0003/best.pth
load param...
export onnx ...
Checking 0/1...
Checking 0/1...
评估配置:
model_name:coco
width:256 height:256
val:../../../datasets/coco2017/val2017.txt
model_path:results/deploy\coco_sp_0005\tflite
eval_type:onnx or tflite
computer mAP...
computer PR...
Precision:[0.591046061127852, 0.6, 0.4657039711191336, 0.4946808510638298, 0.6309523809523809, 0.732824427480916, 0.744, 0.5, 0.358974358974359, 0.45454545454545453, 0.7419354838709677, 0.7105263157894737, 0.5714285714285714, 0.6216216216216216, 0.35294117647058826, 0.6106194690265486, 0.525, 0.5323741007194245, 0.30067567567567566, 0.5142857142857142, 0.5257142857142857, 0.5405405405405406, 0.6912442396313364, 0.7638888888888888, 0.0, 0.43, 0.0, 0.5365853658536586, 0.6875, 0.3333333333333333, 0.5714285714285714, 0.0, 0.6428571428571429, 0.38596491228070173, 0.6666666666666666, 0.4444444444444444, 0.39285714285714285, 0.38235294117647056, 0.5172413793103449, 0.16666666666666666, 0.0, 0.267515923566879, 1.0, 0.0, 0.0, 0.45161290322580644, 0.3113207547169811, 0.2, 0.4583333333333333, 0.41025641025641024, 0.41732283464566927, 0.4642857142857143, 0.6666666666666666, 0.6782608695652174, 0.4788732394366197, 0.21212121212121213, 0.50625, 0.5666666666666667, 0.34210526315789475, 0.6304347826086957, 0.5502008032128514, 0.5960264900662252, 0.6333333333333333, 0.5540540540540541, 0.3333333333333333, 0.0, 0.5909090909090909, 0.7777777777777778, 0.8888888888888888, 0.5111111111111111, 0.0, 0.5217391304347826, 0.7333333333333333, 0.125, 0.5221238938053098, 0.42857142857142855, 0.0, 0.4418604651162791, 0.0, 0.0]
Recall:[0.3743184296619411, 0.0949367088607595, 0.13354037267080746, 0.25067385444743934, 0.3706293706293706, 0.3368421052631579, 0.48947368421052634, 0.07710843373493977, 0.06511627906976744, 0.03139717425431711, 0.22772277227722773, 0.36, 0.06666666666666667, 0.05569007263922518, 0.04090909090909091, 0.3415841584158416, 0.0963302752293578, 0.27106227106227104, 0.24653739612188366, 0.18947368421052632, 0.3607843137254902, 0.28169014084507044, 0.5597014925373134, 0.47413793103448276, 0.0, 0.10411622276029056, 0.0, 0.08661417322834646, 0.036303630363036306, 0.034782608695652174, 0.06639004149377593, 0.0, 0.034220532319391636, 0.19642857142857142, 0.0273972602739726, 0.05405405405405406, 0.061452513966480445, 0.048327137546468404, 0.13333333333333333, 0.002926829268292683, 0.0, 0.04671857619577308, 0.004651162790697674, 0.0, 0.0, 0.08945686900958466, 0.0870712401055409, 0.0041841004184100415, 0.12429378531073447, 0.11149825783972125, 0.16772151898734178, 0.03504043126684636, 0.06299212598425197, 0.2736842105263158, 0.10059171597633136, 0.022151898734177215, 0.04522613065326633, 0.19540229885057472, 0.037900874635568516, 0.17791411042944785, 0.19655667144906744, 0.5027932960893855, 0.3958333333333333, 0.1774891774891775, 0.02830188679245283, 0.0, 0.08496732026143791, 0.026717557251908396, 0.14545454545454545, 0.16083916083916083, 0.0, 0.10666666666666667, 0.1746031746031746, 0.004306632213608958, 0.2209737827715356, 0.06498194945848375, 0.0, 0.09947643979057591, 0.0, 0.0]
AP:[0.46189415854489674, 0.1218979953581743, 0.16728465849261165, 0.2771754266554318, 0.4312801062997331, 0.38252028261440146, 0.5369135304062991, 0.08968399996266332, 0.08175962112686361, 0.04546813764083804, 0.26260218698433896, 0.37582904265071543, 0.07973290598290597, 0.07854266265492765, 0.0475921604330717, 0.4523782402238384, 0.11243297309946784, 0.2598986689016602, 0.17929898627491853, 0.19543024605075074, 0.3809141262767034, 0.326057809793785, 0.6388206120875698, 0.5540035124587529, 0.0014706535073571213, 0.1296385450367954, 0.0025376988792509144, 0.10084901819276818, 0.05977222371494584, 0.04208309906688339, 0.08207893285525704, 0.002898550724637681, 0.06638601534482694, 0.17477601251837285, 0.036265466632969694, 0.059466689667888505, 0.08874246202584875, 0.06847817159997302, 0.13757259534065347, 0.024850887499755447, 0.0036261598048758824, 0.08318305344768123, 0.03373826772858182, 0.012148509315149564, 0.006630365774765398, 0.11364303214990751, 0.08316165735101697, 0.018321277153025214, 0.17392106368446544, 0.1758562366934155, 0.22236464714016793, 0.06841445689565706, 0.0857093141109158, 0.33238550643641185, 0.13529431634565572, 0.047420712297192136, 0.10396395567201233, 0.23978800966533997, 0.0662783397441237, 0.2655547204248505, 0.26587682823996855, 0.5310187708055876, 0.41199483666452286, 0.2498580959171836, 0.11017532235683788, 0.0036634453882394896, 0.1718382434645257, 0.0808044617669978, 0.20834663891239794, 0.20448851054790992, 0.0, 0.139098618342396, 0.2679320458642443, 0.01013229782771588, 0.2064147208512679, 0.07988907199659588, 0.015432098765432098, 0.0973313337570646, 0.0, 0.0]
F1:[0.45835419796361204, 0.16393442622950818, 0.20756234915526947, 0.332737030411449, 0.4669603524229075, 0.4615384615384615, 0.5904761904761905, 0.1336116910229645, 0.11023622047244092, 0.05873715124816444, 0.34848484848484845, 0.4778761061946902, 0.11940298507462685, 0.1022222222222222, 0.07331975560081465, 0.43809523809523804, 0.1627906976744186, 0.3592233009708738, 0.2709284627092846, 0.2769230769230769, 0.427906976744186, 0.3703703703703703, 0.6185567010309277, 0.5851063829787234, 0.0, 0.16764132553606234, 0.0, 0.14915254237288134, 0.0689655172413793, 0.06299212598425195, 0.11895910780669143, 0.0, 0.06498194945848375, 0.26035502958579876, 0.05263157894736841, 0.09638554216867468, 0.10628019323671495, 0.08580858085808579, 0.21201413427561833, 0.005752636625119843, 0.0, 0.07954545454545452, 0.009259259259259259, 0.0, 0.0, 0.1493333333333333, 0.13608247422680408, 0.008196721311475403, 0.1955555555555555, 0.17534246575342463, 0.23927765237020315, 0.06516290726817041, 0.11510791366906474, 0.38999999999999996, 0.16625916870415644, 0.04011461318051574, 0.08303434136340337, 0.2905982905982906, 0.06824146981627295, 0.277511961722488, 0.2896405919661733, 0.5454545454545455, 0.4871794871794872, 0.26885245901639343, 0.052173913043478244, 0.0, 0.14857142857142855, 0.05166051660516604, 0.25, 0.24468085106382975, 0.0, 0.17712177121771214, 0.282051282051282, 0.008326394671107403, 0.31052631578947365, 0.11285266457680247, 0.0, 0.16239316239316234, 0.0, 0.0]
Precision:0.450046 Recall:0.133239 AP:0.161787 F1:0.186842
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_1 -m results/deploy\coco_sp_0005\tflite\model_front.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0005\temp --output results/deploy\coco_sp_0005\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_2 -m results/deploy\coco_sp_0005\tflite\model_post.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0005\temp --output results/deploy\coco_sp_0005\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
