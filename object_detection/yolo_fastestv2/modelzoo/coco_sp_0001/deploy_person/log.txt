{'data': 'modelzoo/coco_sp_0001/coco_sp.data', 'model_path': 'modelzoo/coco_sp_0001/coco-180-epoch-0.117769ap-model.pth', 'convert_type': 1, 'tflite_val_path': '../../../datasets/coco2017/images/val2017', 'c_project_path': None, 'stm32cubeai_path': 'D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1', 'series': 'h7', 'conf_thr': 0.3, 'nms_thr': 0.5, 'eval': True, 'compiler': 1}
pytorch_model_path:modelzoo/coco_sp_0001/coco-180-epoch-0.117769ap-model.pth
load param...
export onnx ...
Checking 0/1...
Checking 0/1...
评估配置:
model_name:coco
width:192 height:192
val:../../../datasets/coco2017/val2017.txt
model_path:results/deploy\coco_sp_0008\tflite
eval_type:onnx or tflite
computer mAP...
computer PR...
Precision:[0.5031379356389372, 0.4, 0.40700218818380746, 0.5821917808219178, 0.569620253164557, 0.6638655462184874, 0.6739130434782609, 0.45454545454545453, 0.2537313432835821, 0.3225806451612903, 0.5833333333333334, 0.55, 1.0, 0.5, 0.38235294117647056, 0.5670103092783505, 0.4117647058823529, 0.4827586206896552, 0.24829931972789115, 0.47413793103448276, 0.480225988700565, 0.5428571428571428, 0.6231884057971014, 0.6496815286624203, 0.0, 0.3787878787878788, 0.0, 0.4583333333333333, 0.7142857142857143, 0.0, 0.3076923076923077, 0.0, 0.3333333333333333, 0.3504273504273504, 0.0, 0.5, 0.25, 0.3333333333333333, 0.6, 0.3, 0.0, 0.22321428571428573, 1.0, 0.0, 0.0, 0.4392523364485981, 0.23529411764705882, 0.2, 0.3829787234042553, 0.3188405797101449, 0.2127659574468085, 0.3611111111111111, 0.6666666666666666, 0.75, 0.2676056338028169, 0.38461538461538464, 0.4, 0.5, 0.25, 0.5, 0.47058823529411764, 0.5503875968992248, 0.6019417475728155, 0.48148148148148145, 0.2, 0.0, 0.6363636363636364, 0.5555555555555556, 0.5, 0.42105263157894735, 0.0, 0.5, 0.5277777777777778, 0.3333333333333333, 0.29213483146067415, 0.3125, 0.0, 0.4418604651162791, 0.0, 0.0]
Recall:[0.34242093784078514, 0.0379746835443038, 0.09627329192546584, 0.22911051212938005, 0.3146853146853147, 0.2771929824561403, 0.48947368421052634, 0.07228915662650602, 0.03953488372093023, 0.015698587127158554, 0.13861386138613863, 0.29333333333333333, 0.03333333333333333, 0.031476997578692496, 0.029545454545454545, 0.2722772277227723, 0.06422018348623854, 0.20512820512820512, 0.20221606648199447, 0.14473684210526316, 0.3333333333333333, 0.2676056338028169, 0.48134328358208955, 0.4396551724137931, 0.0, 0.06053268765133172, 0.0, 0.04330708661417323, 0.0165016501650165, 0.0, 0.03319502074688797, 0.0, 0.0038022813688212928, 0.12202380952380952, 0.0, 0.02027027027027027, 0.0111731843575419, 0.026022304832713755, 0.05333333333333334, 0.002926829268292683, 0.0, 0.027808676307007785, 0.004651162790697674, 0.0, 0.0, 0.07507987220447285, 0.09498680738786279, 0.0041841004184100415, 0.1016949152542373, 0.07665505226480836, 0.15822784810126583, 0.03504043126684636, 0.015748031496062992, 0.25263157894736843, 0.05621301775147929, 0.015822784810126583, 0.018983807928531545, 0.10727969348659004, 0.011661807580174927, 0.147239263803681, 0.1951219512195122, 0.39664804469273746, 0.2152777777777778, 0.11255411255411256, 0.02830188679245283, 0.0, 0.0457516339869281, 0.019083969465648856, 0.01818181818181818, 0.11188811188811189, 0.0, 0.035555555555555556, 0.15079365079365079, 0.0017226528854435831, 0.09737827715355805, 0.036101083032490974, 0.0, 0.09947643979057591, 0.0, 0.0]
AP:[0.39752117294797823, 0.04981592086116294, 0.10835089541179696, 0.24930934280887523, 0.3557715434385766, 0.31237801349806976, 0.4995502295518673, 0.0707697000123591, 0.04247611517220838, 0.017419310952069687, 0.12850358877998425, 0.3313048190922053, 0.03518518518518519, 0.049685908788886915, 0.025610726062304315, 0.37818193556469126, 0.08626889730491506, 0.19030500766769337, 0.12083383916306026, 0.15741553640967196, 0.3302342656300252, 0.2339153311452402, 0.5363860459984435, 0.47714837836591634, 0.00041928721174004196, 0.07494060572773797, 0.003496533629764789, 0.059448477772372825, 0.03781493216976511, 0.01519145464174694, 0.048160781179523666, 0.0, 0.01705945879942669, 0.10223514048692171, 0.007871515870412273, 0.03123107459767057, 0.052968813835212396, 0.03639712009842981, 0.06611284375056066, 0.011498303234529352, 0.0024325837367091007, 0.054423216508158734, 0.04050744495442886, 0.0014257764017281324, 0.010519526050135591, 0.11855366811989267, 0.05818152438356827, 0.014535143504039092, 0.12870832109692804, 0.10696595339630377, 0.10864969517644206, 0.04618640692310391, 0.06572398433054968, 0.3151914729896796, 0.06415692361979183, 0.028715865019566737, 0.06245492564775515, 0.13509211140938232, 0.02296139779705983, 0.20192227487214454, 0.2300557150984657, 0.4378922020715883, 0.2798238393688798, 0.1388332252061535, 0.06705338696881101, 0.0013486260610971333, 0.07969738422584917, 0.03917336022817762, 0.06431635857631168, 0.18002670545034116, 0.0, 0.0671173798937676, 0.19913853032953832, 0.007383294815760942, 0.08835123064730205, 0.040455765419786745, 0.005993000874890639, 0.10040125648611309, 0.0, 0.0]
F1:[0.40750554263775474, 0.06936416184971098, 0.15571368773545413, 0.32882011605415856, 0.4054054054054054, 0.391089108910891, 0.5670731707317073, 0.1247401247401247, 0.06841046277665994, 0.02994011976047903, 0.22399999999999998, 0.38260869565217387, 0.06451612903225806, 0.059225512528473793, 0.05485232067510547, 0.36789297658862874, 0.11111111111111109, 0.28791773778920304, 0.22290076335877856, 0.22177419354838707, 0.39351851851851843, 0.35849056603773577, 0.5431578947368421, 0.5244215938303342, 0.0, 0.104384133611691, 0.0, 0.07913669064748201, 0.032258064516129024, 0.0, 0.05992509363295878, 0.0, 0.007518796992481201, 0.1810154525386313, 0.0, 0.03896103896103895, 0.021390374331550794, 0.048275862068965496, 0.09795918367346937, 0.005797101449275361, 0.0, 0.049455984174085046, 0.009259259259259259, 0.0, 0.0, 0.12824010914051842, 0.1353383458646616, 0.008196721311475403, 0.1607142857142857, 0.1235955056179775, 0.1814882032667876, 0.06388206388206387, 0.030769230769230767, 0.37795275590551186, 0.09290953545232271, 0.030395136778115495, 0.036247334754797425, 0.17665615141955832, 0.022284122562674084, 0.22748815165876773, 0.2758620689655172, 0.46103896103896097, 0.3171355498721227, 0.18245614035087715, 0.04958677685950411, 0.0, 0.08536585365853656, 0.03690036900369004, 0.035087719298245605, 0.1767955801104972, 0.0, 0.06639004149377592, 0.23456790123456786, 0.0034275921165381304, 0.14606741573033705, 0.06472491909385111, 0.0, 0.16239316239316234, 0.0, 0.0]
Precision:0.384621 Recall:0.100154 AP:0.117044 F1:0.139922
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_1 -m results/deploy\coco_sp_0008\tflite\model_front.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0008\temp --output results/deploy\coco_sp_0008\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_2 -m results/deploy\coco_sp_0008\tflite\model_post.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0008\temp --output results/deploy\coco_sp_0008\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
