{'data': 'modelzoo/coco_sp_0001/coco_sp.data', 'model_path': 'modelzoo/coco_sp_0001/best.pth', 'convert_type': 1, 'tflite_val_path': '../../../datasets/coco2017/images/val2017', 'c_project_path': None, 'stm32cubeai_path': 'D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1', 'series': 'h7', 'conf_thr': 0.3, 'nms_thr': 0.5, 'eval': True, 'compiler': 1}
pytorch_model_path:modelzoo/coco_sp_0001/best.pth
load param...
export onnx ...
Checking 0/1...
Checking 0/1...
评估配置:
model_name:coco
width:192 height:192
val:../../../datasets/coco2017/val2017.txt
model_path:results/deploy\coco_sp_0009\tflite
eval_type:onnx or tflite
computer mAP...
computer PR...
Precision:[0.4997308934337998, 0.45454545454545453, 0.41363636363636364, 0.6147540983606558, 0.5714285714285714, 0.6484375, 0.7, 0.4603174603174603, 0.3220338983050847, 0.3076923076923077, 0.5454545454545454, 0.6, 0.6666666666666666, 0.5517241379310345, 0.36363636363636365, 0.5233644859813084, 0.4418604651162791, 0.46564885496183206, 0.24719101123595505, 0.45081967213114754, 0.503030303030303, 0.5714285714285714, 0.6048780487804878, 0.6592592592592592, 0.0, 0.359375, 0.0, 0.5185185185185185, 0.45454545454545453, 0.0, 0.32142857142857145, 0.0, 0.5, 0.3739130434782609, 0.0, 0.375, 0.5, 0.16666666666666666, 0.55, 0.09090909090909091, 0.0, 0.23853211009174313, 0.0, 0.0, 0.0, 0.5, 0.24444444444444444, 0.16666666666666666, 0.34545454545454546, 0.35135135135135137, 0.26, 0.2777777777777778, 0.8, 0.7395833333333334, 0.31343283582089554, 0.2857142857142857, 0.44086021505376344, 0.5066666666666667, 0.26666666666666666, 0.46296296296296297, 0.5255972696245734, 0.5806451612903226, 0.5645161290322581, 0.5, 0.09090909090909091, 0.0, 0.45454545454545453, 0.5, 1.0, 0.3170731707317073, 0.0, 0.55, 0.6097560975609756, 0.2, 0.3176470588235294, 0.5, 0.0, 0.5, 0.0, 0.0]
Recall:[0.33751363140676116, 0.03164556962025317, 0.09420289855072464, 0.20215633423180593, 0.3356643356643357, 0.2912280701754386, 0.4789473684210526, 0.06987951807228916, 0.044186046511627906, 0.012558869701726845, 0.1188118811881188, 0.32, 0.03333333333333333, 0.0387409200968523, 0.01818181818181818, 0.27722772277227725, 0.0871559633027523, 0.22344322344322345, 0.18282548476454294, 0.14473684210526316, 0.3254901960784314, 0.22535211267605634, 0.4626865671641791, 0.38362068965517243, 0.0, 0.05569007263922518, 0.0, 0.05511811023622047, 0.0165016501650165, 0.0, 0.03734439834024896, 0.0, 0.0038022813688212928, 0.12797619047619047, 0.0, 0.02027027027027027, 0.0111731843575419, 0.007434944237918215, 0.04888888888888889, 0.000975609756097561, 0.0, 0.028921023359288096, 0.0, 0.0, 0.0, 0.05750798722044728, 0.05804749340369393, 0.0041841004184100415, 0.10734463276836158, 0.09059233449477352, 0.12341772151898735, 0.013477088948787063, 0.031496062992125984, 0.24912280701754386, 0.0621301775147929, 0.012658227848101266, 0.022892238972640984, 0.14559386973180077, 0.011661807580174927, 0.15337423312883436, 0.22094691535150646, 0.4022346368715084, 0.24305555555555555, 0.1341991341991342, 0.018867924528301886, 0.0, 0.032679738562091505, 0.011450381679389313, 0.03636363636363636, 0.09090909090909091, 0.0, 0.04888888888888889, 0.1984126984126984, 0.0008613264427217916, 0.10112359550561797, 0.04332129963898917, 0.0, 0.09424083769633508, 0.0, 0.0]
AP:[0.39255396521963376, 0.05697548614359126, 0.10647706382985045, 0.23611747872534028, 0.37577575047053746, 0.32113264394374486, 0.4994960593226988, 0.07400656278764736, 0.05017073487298469, 0.02046793972494848, 0.11384436308380065, 0.32885458155127534, 0.03492063492063492, 0.05027014475276356, 0.02601811164531739, 0.40106401292664307, 0.09720696440002334, 0.21375843924896418, 0.11620659931153439, 0.14691488623985355, 0.32603231224163254, 0.2234931827610404, 0.5133804699772238, 0.44670480531705625, 0.0008293593199253578, 0.06064402282928321, 0.001031344437416544, 0.06057036322367309, 0.04171764788418437, 0.0117044764529457, 0.04814746933587645, 0.0, 0.014614543705397309, 0.10330054635128824, 0.011000207282916471, 0.018957000274601357, 0.04130488859219432, 0.03470343483805867, 0.07753872866383918, 0.00800581628834972, 0.0007857832090269769, 0.05685559622043793, 0.041393031664677844, 0.0020900381271545952, 0.004755687004721029, 0.10488484106483825, 0.05801980942385013, 0.011790545541636064, 0.11038781985026774, 0.13110690708698536, 0.12230509427413004, 0.04204746067457539, 0.07841551775873051, 0.3060686460198939, 0.0680051631866197, 0.02113221475977264, 0.06413578284234135, 0.17900970799051374, 0.02196702610848714, 0.20566195854581376, 0.2518752805278925, 0.43731908384437734, 0.30884898931013954, 0.16536626617377928, 0.0586692826199803, 0.0015991611278287595, 0.06686133769900202, 0.031185584048367614, 0.0735919411920059, 0.16027283845085682, 0.0, 0.07843452705502908, 0.2233482984355969, 0.010197817203593841, 0.09206587606253383, 0.04306136500611669, 0.0, 0.11445718133875109, 0.0, 0.0]
F1:[0.4029073551746582, 0.059171597633136085, 0.15345699831365933, 0.3042596348884381, 0.4229074889867841, 0.4019370460048426, 0.56875, 0.1213389121338912, 0.07770961145194272, 0.024132730015082947, 0.19512195121951215, 0.41739130434782606, 0.06349206349206347, 0.07239819004524886, 0.03463203463203462, 0.3624595469255663, 0.14559386973180075, 0.30198019801980197, 0.21019108280254775, 0.21912350597609556, 0.39523809523809517, 0.32323232323232315, 0.5243128964059197, 0.4850136239782017, 0.0, 0.09643605870020962, 0.0, 0.09964412811387897, 0.031847133757961776, 0.0, 0.06691449814126392, 0.0, 0.007547169811320752, 0.19068736141906867, 0.0, 0.03846153846153845, 0.021857923497267756, 0.014234875444839847, 0.08979591836734693, 0.0019305019305019284, 0.0, 0.051587301587301564, 0.0, 0.0, 0.0, 0.10315186246418336, 0.09381663113006392, 0.008163265306122443, 0.1637931034482758, 0.14404432132963987, 0.16738197424892698, 0.02570694087403598, 0.0606060606060606, 0.3727034120734908, 0.10370370370370369, 0.024242424242424232, 0.0435244161358811, 0.22619047619047616, 0.02234636871508379, 0.23041474654377875, 0.31111111111111106, 0.47524752475247517, 0.3398058252427184, 0.21160409556313992, 0.031249999999999972, 0.0, 0.06097560975609755, 0.022388059701492533, 0.07017543859649122, 0.14130434782608695, 0.0, 0.08979591836734693, 0.2994011976047904, 0.0017152658662092615, 0.15340909090909086, 0.07973421926910297, 0.0, 0.15859030837004404, 0.0, 0.0]
Precision:0.372609 Recall:0.099684 AP:0.118174 F1:0.140425
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_1 -m results/deploy\coco_sp_0009\tflite\model_front.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0009\temp --output results/deploy\coco_sp_0009\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_2 -m results/deploy\coco_sp_0009\tflite\model_post.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0009\temp --output results/deploy\coco_sp_0009\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
