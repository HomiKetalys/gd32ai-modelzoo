{'data': 'modelzoo/coco_sp_0004/coco_sp.data', 'model_path': 'modelzoo/coco_sp_0004/coco-220-epoch-0.213236ap-model.pth', 'convert_type': 1, 'tflite_val_path': '../../../datasets/coco2017/images/val2017', 'c_project_path': None, 'stm32cubeai_path': 'D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1', 'series': 'h7', 'conf_thr': 0.3, 'nms_thr': 0.5, 'eval': True, 'compiler': 1}
pytorch_model_path:modelzoo/coco_sp_0004/coco-220-epoch-0.213236ap-model.pth
load param...
export onnx ...
Checking 0/1...
Checking 0/1...
评估配置:
model_name:coco
width:256 height:256
val:../../../datasets/coco2017/val2017.txt
model_path:results/deploy\coco_sp_0003\tflite
eval_type:onnx or tflite
computer mAP...
computer PR...
Precision:[0.5445032198712052, 0.5128205128205128, 0.5276872964169381, 0.7310344827586207, 0.7012987012987013, 0.7018633540372671, 0.7795275590551181, 0.5294117647058824, 0.38095238095238093, 0.3695652173913043, 0.6140350877192983, 0.6326530612244898, 0.7777777777777778, 0.5357142857142857, 0.3983739837398374, 0.6382978723404256, 0.453781512605042, 0.5120481927710844, 0.33636363636363636, 0.41013824884792627, 0.5104602510460251, 0.7857142857142857, 0.623015873015873, 0.855072463768116, 0.0, 0.46060606060606063, 0.0, 0.423728813559322, 0.359375, 0.3125, 0.3829787234042553, 0.3333333333333333, 0.4827586206896552, 0.3641304347826087, 0.4375, 0.48484848484848486, 0.4716981132075472, 0.3770491803278688, 0.5, 0.2542372881355932, 0.4090909090909091, 0.34934497816593885, 0.47619047619047616, 0.2727272727272727, 0.0, 0.48704663212435234, 0.28761061946902655, 0.23529411764705882, 0.5483870967741935, 0.33488372093023255, 0.3723849372384937, 0.30917874396135264, 0.34285714285714286, 0.6029411764705882, 0.3684210526315789, 0.4835164835164835, 0.35351089588377727, 0.6019417475728155, 0.3148148148148148, 0.684931506849315, 0.4790996784565916, 0.5642458100558659, 0.6612903225806451, 0.6633663366336634, 0.4090909090909091, 0.16666666666666666, 0.6037735849056604, 0.6153846153846154, 0.9090909090909091, 0.48333333333333334, 0.0, 0.5263157894736842, 0.5471698113207547, 0.21794871794871795, 0.5348837209302325, 0.5714285714285714, 0.0, 0.49137931034482757, 0.0, 0.0]
Recall:[0.43029807342784443, 0.12658227848101267, 0.16770186335403728, 0.2857142857142857, 0.3776223776223776, 0.39649122807017545, 0.5210526315789473, 0.08674698795180723, 0.09302325581395349, 0.08006279434850863, 0.3465346534653465, 0.41333333333333333, 0.11666666666666667, 0.07263922518159806, 0.11136363636363636, 0.44554455445544555, 0.24770642201834864, 0.31135531135531136, 0.3074792243767313, 0.23421052631578948, 0.47843137254901963, 0.30985915492957744, 0.585820895522388, 0.5086206896551724, 0.0, 0.18401937046004843, 0.0, 0.0984251968503937, 0.07590759075907591, 0.043478260869565216, 0.07468879668049792, 0.014492753623188406, 0.10646387832699619, 0.19940476190476192, 0.04794520547945205, 0.10810810810810811, 0.13966480446927373, 0.08550185873605948, 0.2311111111111111, 0.014634146341463415, 0.026239067055393587, 0.08898776418242492, 0.046511627906976744, 0.009202453987730062, 0.0, 0.1501597444089457, 0.17150395778364116, 0.08368200836820083, 0.192090395480226, 0.2508710801393728, 0.28164556962025317, 0.1725067385444744, 0.09448818897637795, 0.28771929824561404, 0.2485207100591716, 0.13924050632911392, 0.08151870463428253, 0.23754789272030652, 0.04956268221574344, 0.3067484662576687, 0.21377331420373027, 0.5642458100558659, 0.4270833333333333, 0.29004329004329005, 0.16981132075471697, 0.0035335689045936395, 0.20915032679738563, 0.061068702290076333, 0.18181818181818182, 0.20279720279720279, 0.0, 0.17777777777777778, 0.23015873015873015, 0.029285099052540915, 0.25842696629213485, 0.08664259927797834, 0.0, 0.29842931937172773, 0.0, 0.0]
AP:[0.4899782338011947, 0.148879050961866, 0.19887412943434674, 0.33017896534415214, 0.4525047279817836, 0.4296617255424319, 0.5467854707530315, 0.10338813916996523, 0.10058880179851439, 0.07206226280422709, 0.3603048300996331, 0.4367813951788203, 0.12284185435691893, 0.09381237916743589, 0.1072063014984261, 0.49427397932684497, 0.23742246562670044, 0.288034598467497, 0.23585212239924894, 0.21639360295857496, 0.43194949793097714, 0.3361338386847194, 0.6355737056907984, 0.6081366389576391, 0.003622153641926878, 0.21102918782547525, 0.008585323747229824, 0.11001372762529749, 0.08372475793583006, 0.05225849879382974, 0.08067117988508167, 0.015421776291341508, 0.10788517799635301, 0.17173389125796745, 0.0728971609093101, 0.10278350692886919, 0.16782716939087358, 0.11281264871582178, 0.25250087076165945, 0.03727444556655005, 0.025281944641344777, 0.12663408319536, 0.0952233869517314, 0.014823721190057065, 0.0015829597966865031, 0.17492642732852198, 0.14485785035779267, 0.06606452164019282, 0.22315731271971254, 0.20158767526480825, 0.2577923618769058, 0.11190449959923979, 0.0908473271783635, 0.3336471319986644, 0.21870812618010713, 0.14461924314429486, 0.11168728768411348, 0.302732221548142, 0.09317971793302796, 0.3923942245979222, 0.2555994318618647, 0.5793179889713286, 0.4716033867847088, 0.37733793357247, 0.20600429189722153, 0.008032684096356161, 0.24739030430296727, 0.09820397676691961, 0.2422821810455864, 0.24527874713872022, 0.0, 0.17366168436107357, 0.2669768274061454, 0.029524676445524194, 0.2597964027786892, 0.10059775637326285, 0.0179926997722674, 0.2876794972972616, 0.0, 0.004583638199729662]
F1:[0.4807106598984771, 0.2030456852791878, 0.2545168892380204, 0.4108527131782945, 0.4909090909090909, 0.5067264573991032, 0.6246056782334384, 0.14906832298136644, 0.1495327102803738, 0.1316129032258064, 0.4430379746835442, 0.5, 0.20289855072463767, 0.12793176972281445, 0.17406749555950263, 0.5247813411078717, 0.3204747774480712, 0.3872437357630979, 0.32127351664254694, 0.29815745393634835, 0.4939271255060729, 0.4444444444444445, 0.6038461538461538, 0.6378378378378379, 0.0, 0.2629757785467128, 0.0, 0.15974440894568687, 0.12534059945504084, 0.0763358778625954, 0.12499999999999997, 0.02777777777777777, 0.1744548286604361, 0.2576923076923076, 0.08641975308641973, 0.1767955801104972, 0.21551724137931028, 0.13939393939393935, 0.3161094224924012, 0.027675276752767517, 0.04931506849315068, 0.14184397163120563, 0.08474576271186439, 0.017804154302670617, 0.0, 0.2295482295482295, 0.21487603305785122, 0.12345679012345676, 0.2845188284518828, 0.2868525896414342, 0.32072072072072066, 0.22145328719723179, 0.1481481481481481, 0.3895486935866983, 0.29681978798586567, 0.21621621621621617, 0.13248638838475496, 0.3406593406593406, 0.08564231738035262, 0.42372881355932196, 0.2956349206349206, 0.5642458100558659, 0.5189873417721519, 0.40361445783132527, 0.23999999999999994, 0.006920415224913491, 0.3106796116504854, 0.11111111111111109, 0.30303030303030304, 0.28571428571428564, 0.0, 0.26578073089700993, 0.3240223463687151, 0.051632498101746374, 0.3484848484848484, 0.15047021943573663, 0.0, 0.37133550488599343, 0.0, 0.0]
Precision:0.447330 Recall:0.185019 AP:0.200902 F1:0.245160
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_1 -m results/deploy\coco_sp_0003\tflite\model_front.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0003\temp --output results/deploy\coco_sp_0003\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_2 -m results/deploy\coco_sp_0003\tflite\model_post.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0003\temp --output results/deploy\coco_sp_0003\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
