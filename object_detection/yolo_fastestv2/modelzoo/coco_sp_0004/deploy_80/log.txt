{'data': 'modelzoo/coco_sp_0004/coco_sp.data', 'model_path': 'modelzoo/coco_sp_0004/best.pth', 'convert_type': 1, 'tflite_val_path': '../../../datasets/coco2017/images/val2017', 'c_project_path': None, 'stm32cubeai_path': 'D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1', 'series': 'h7', 'conf_thr': 0.3, 'nms_thr': 0.5, 'eval': True, 'compiler': 1}
pytorch_model_path:modelzoo/coco_sp_0004/best.pth
load param...
export onnx ...
Checking 0/1...
Checking 0/1...
评估配置:
model_name:coco
width:256 height:256
val:../../../datasets/coco2017/val2017.txt
model_path:results/deploy\coco_sp_0002\tflite
eval_type:onnx or tflite
computer mAP...
computer PR...
Precision:[0.541138879379208, 0.5774647887323944, 0.49008498583569404, 0.6835443037974683, 0.6626506024096386, 0.7212121212121212, 0.7615384615384615, 0.47674418604651164, 0.28846153846153844, 0.3798449612403101, 0.6101694915254238, 0.6875, 1.0, 0.559322033898305, 0.3923076923076923, 0.676056338028169, 0.4696969696969697, 0.49489795918367346, 0.32471264367816094, 0.4725274725274725, 0.5412844036697247, 0.725, 0.6287878787878788, 0.8145695364238411, 0.2, 0.47692307692307695, 0.0, 0.48148148148148145, 0.5, 0.47368421052631576, 0.45161290322580644, 0.0, 0.5185185185185185, 0.34347826086956523, 0.5, 0.48484848484848486, 0.48936170212765956, 0.5, 0.54, 0.26666666666666666, 0.34782608695652173, 0.36231884057971014, 0.5, 0.2, 0.0, 0.5, 0.2980769230769231, 0.24050632911392406, 0.4782608695652174, 0.39195979899497485, 0.38222222222222224, 0.2958579881656805, 0.36, 0.6916666666666667, 0.37755102040816324, 0.44155844155844154, 0.36103151862464183, 0.7216494845360825, 0.3595505617977528, 0.5974025974025974, 0.5348837209302325, 0.6225165562913907, 0.6548223350253807, 0.6837606837606838, 0.38461538461538464, 0.5, 0.6346153846153846, 0.5652173913043478, 0.7857142857142857, 0.6, 0.0, 0.6206896551724138, 0.6538461538461539, 0.17218543046357615, 0.49390243902439024, 0.5178571428571429, 0.0, 0.5631067961165048, 0.0, 0.0]
Recall:[0.43093420574336605, 0.12974683544303797, 0.17908902691511386, 0.29110512129380056, 0.38461538461538464, 0.41754385964912283, 0.5210526315789473, 0.09879518072289156, 0.10465116279069768, 0.07692307692307693, 0.3564356435643564, 0.44, 0.1, 0.07990314769975787, 0.1159090909090909, 0.4752475247524752, 0.28440366972477066, 0.3553113553113553, 0.31301939058171746, 0.22631578947368422, 0.4627450980392157, 0.4084507042253521, 0.6194029850746269, 0.5301724137931034, 0.0026954177897574125, 0.22518159806295399, 0.0, 0.10236220472440945, 0.09900990099009901, 0.0782608695652174, 0.058091286307053944, 0.0, 0.10646387832699619, 0.23511904761904762, 0.0410958904109589, 0.10810810810810811, 0.12849162011173185, 0.12267657992565056, 0.24, 0.01951219512195122, 0.023323615160349854, 0.11123470522803114, 0.027906976744186046, 0.006134969325153374, 0.0, 0.15654952076677317, 0.16358839050131926, 0.0794979079497908, 0.1864406779661017, 0.27177700348432055, 0.2721518987341772, 0.1347708894878706, 0.07086614173228346, 0.2912280701754386, 0.21893491124260356, 0.10759493670886076, 0.07035175879396985, 0.2681992337164751, 0.09329446064139942, 0.2822085889570552, 0.26398852223816355, 0.5251396648044693, 0.4479166666666667, 0.3463203463203463, 0.18867924528301888, 0.0035335689045936395, 0.21568627450980393, 0.04961832061068702, 0.2, 0.1888111888111888, 0.0, 0.16, 0.2698412698412698, 0.02239448751076658, 0.30337078651685395, 0.10469314079422383, 0.0, 0.3036649214659686, 0.0, 0.0]
AP:[0.4875844029670946, 0.15868452927394333, 0.19615149281352504, 0.3318964696549796, 0.45440891056740706, 0.42788237985079003, 0.5452261247933541, 0.10486884427305598, 0.09983247244576163, 0.06748742715211008, 0.37361893159027615, 0.47618613983606917, 0.1539269988211636, 0.09815702103957438, 0.10373057779888274, 0.5288551968925799, 0.2806508004931414, 0.33307368468012, 0.22505653986743357, 0.22646612645115918, 0.46371797853602936, 0.4145059123325232, 0.6543509456800801, 0.6279890657731826, 0.006318386576224604, 0.22596893960289155, 0.007627743334142811, 0.11241372816543949, 0.10845742480539713, 0.10123885302327638, 0.0759542137341783, 0.012876696572348745, 0.11397956910875909, 0.19549935041724997, 0.06305116768237139, 0.10927619665726325, 0.17375167917778303, 0.13992515186791937, 0.2826614555073316, 0.04125766335070151, 0.033451135172467374, 0.13070073530425524, 0.10912041302446691, 0.01149331019447854, 0.003042338824602462, 0.18361802789376977, 0.15025473366327494, 0.05352711212961898, 0.20292684456195775, 0.2098792927579532, 0.26874788188012744, 0.10604908835009497, 0.0932943538178003, 0.33051607975530733, 0.22907665071367472, 0.1266898236602575, 0.11157786555007021, 0.3437898169449728, 0.10914644543452331, 0.3739253979518884, 0.30527863869570254, 0.5678511290937299, 0.46028026639475905, 0.4167580111886523, 0.212405839274154, 0.012340033388081479, 0.2505777024516722, 0.08539541579344273, 0.2602410782179556, 0.2628648536972418, 0.0, 0.1752870566243132, 0.32455484099082754, 0.027925946749002437, 0.2816316501769361, 0.11437678341737584, 0.027351007201753468, 0.31163912000235133, 0.0, 0.0026982098515989927]
F1:[0.4797895482369605, 0.21188630490956067, 0.2623199393479908, 0.4083175803402646, 0.48672566371681425, 0.528888888888889, 0.6187499999999999, 0.16367265469061873, 0.15358361774744023, 0.12793733681462138, 0.44999999999999996, 0.5365853658536586, 0.18181818181818182, 0.13983050847457623, 0.17894736842105258, 0.5581395348837209, 0.35428571428571426, 0.4136460554371002, 0.3187588152327221, 0.3060498220640569, 0.49894291754756875, 0.5225225225225225, 0.6240601503759399, 0.6422976501305483, 0.00531914893617021, 0.3059210526315789, 0.0, 0.1688311688311688, 0.16528925619834708, 0.1343283582089552, 0.10294117647058823, 0.0, 0.17665615141955832, 0.27915194346289746, 0.07594936708860758, 0.1767955801104972, 0.20353982300884954, 0.19701492537313428, 0.33230769230769225, 0.03636363636363635, 0.0437158469945355, 0.17021276595744675, 0.052863436123348005, 0.011904761904761899, 0.0, 0.23844282238442818, 0.211243611584327, 0.11949685534591191, 0.2682926829268292, 0.3209876543209876, 0.31792975970425136, 0.18518518518518512, 0.11842105263157893, 0.40987654320987654, 0.2771535580524344, 0.17302798982188294, 0.11775700934579436, 0.3910614525139664, 0.1481481481481481, 0.3833333333333333, 0.35350624399615743, 0.5696969696969698, 0.531958762886598, 0.4597701149425287, 0.2531645569620253, 0.007017543859649121, 0.32195121951219513, 0.09122807017543857, 0.31884057971014484, 0.2872340425531914, 0.0, 0.254416961130742, 0.38202247191011224, 0.03963414634146339, 0.3758700696055684, 0.17417417417417413, 0.0, 0.39455782312925164, 0.0, 0.0]
Precision:0.463766 Recall:0.192482 AP:0.211061 F1:0.253778
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_1 -m results/deploy\coco_sp_0002\tflite\model_front.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0002\temp --output results/deploy\coco_sp_0002\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_2 -m results/deploy\coco_sp_0002\tflite\model_post.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0002\temp --output results/deploy\coco_sp_0002\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
