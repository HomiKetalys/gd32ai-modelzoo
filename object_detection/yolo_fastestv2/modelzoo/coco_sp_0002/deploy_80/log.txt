{'data': 'modelzoo/coco_sp_0002/coco_sp.data', 'model_path': 'modelzoo/coco_sp_0002/best.pth', 'convert_type': 1, 'tflite_val_path': '../../../datasets/coco2017/images/val2017', 'c_project_path': None, 'stm32cubeai_path': 'D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1', 'series': 'h7', 'conf_thr': 0.3, 'nms_thr': 0.5, 'eval': True, 'compiler': 1}
pytorch_model_path:modelzoo/coco_sp_0002/best.pth
load param...
export onnx ...
Checking 0/1...
Checking 0/1...
评估配置:
model_name:coco
width:192 height:192
val:../../../datasets/coco2017/val2017.txt
model_path:results/deploy\coco_sp_0006\tflite
eval_type:onnx or tflite
computer mAP...
computer PR...
Precision:[0.5475428094111096, 0.4838709677419355, 0.47036328871892924, 0.6325301204819277, 0.5833333333333334, 0.6624203821656051, 0.7364341085271318, 0.5333333333333333, 0.3333333333333333, 0.32954545454545453, 0.559322033898305, 0.6363636363636364, 1.0, 0.45454545454545453, 0.32222222222222224, 0.6470588235294118, 0.41935483870967744, 0.5416666666666666, 0.2631578947368421, 0.39473684210526316, 0.5674157303370787, 0.6444444444444445, 0.6724137931034483, 0.762589928057554, 0.0, 0.41721854304635764, 0.0, 0.4883720930232558, 0.3620689655172414, 0.3333333333333333, 0.40625, 0.0, 0.6, 0.456, 0.6666666666666666, 0.4444444444444444, 0.42105263157894735, 0.391304347826087, 0.5714285714285714, 0.16, 0.045454545454545456, 0.384, 0.5, 0.0, 0.0, 0.45255474452554745, 0.2713178294573643, 0.35294117647058826, 0.5294117647058824, 0.31683168316831684, 0.27169811320754716, 0.2323943661971831, 0.8, 0.7446808510638298, 0.38144329896907214, 0.5, 0.43612334801762115, 0.5523809523809524, 0.37681159420289856, 0.654320987654321, 0.5017301038062284, 0.6592592592592592, 0.6707317073170732, 0.6494845360824743, 0.25, 0.0, 0.6551724137931034, 0.7, 0.7777777777777778, 0.47368421052631576, 0.0, 0.6428571428571429, 0.6410256410256411, 0.12727272727272726, 0.38125, 0.5238095238095238, 0.0, 0.3925233644859813, 0.0, 0.0]
Recall:[0.3574154852780807, 0.0949367088607595, 0.12732919254658384, 0.2830188679245283, 0.4405594405594406, 0.3649122807017544, 0.5, 0.07710843373493977, 0.07209302325581396, 0.04552590266875981, 0.32673267326732675, 0.37333333333333335, 0.08333333333333333, 0.07263922518159806, 0.0659090909090909, 0.3811881188118812, 0.11926605504587157, 0.2857142857142857, 0.2770083102493075, 0.15789473684210525, 0.396078431372549, 0.4084507042253521, 0.582089552238806, 0.45689655172413796, 0.0, 0.15254237288135594, 0.0, 0.08267716535433071, 0.06930693069306931, 0.017391304347826087, 0.05394190871369295, 0.0, 0.034220532319391636, 0.16964285714285715, 0.0136986301369863, 0.08108108108108109, 0.0446927374301676, 0.03345724907063197, 0.16, 0.007804878048780488, 0.0029154518950437317, 0.05339265850945495, 0.013953488372093023, 0.0, 0.0, 0.09904153354632587, 0.18469656992084432, 0.07531380753138076, 0.2033898305084746, 0.2229965156794425, 0.22784810126582278, 0.0889487870619946, 0.06299212598425197, 0.24561403508771928, 0.10946745562130178, 0.05063291139240506, 0.05527638190954774, 0.2222222222222222, 0.07580174927113703, 0.32515337423312884, 0.20803443328550933, 0.4972067039106145, 0.3819444444444444, 0.2727272727272727, 0.12264150943396226, 0.0, 0.12418300653594772, 0.05343511450381679, 0.12727272727272726, 0.1888111888111888, 0.0, 0.12, 0.1984126984126984, 0.012058570198105082, 0.22846441947565543, 0.07942238267148015, 0.0, 0.2198952879581152, 0.0, 0.0]
AP:[0.4160849556571039, 0.10282913248535382, 0.1404509147982182, 0.3482751230810887, 0.4512809649190379, 0.3694378351073364, 0.5732995734331026, 0.0895458166236324, 0.08043919498373223, 0.043749926697709475, 0.313272612496041, 0.3782162644887652, 0.09524353120243531, 0.08462484517460064, 0.05720088667401188, 0.48427382899469285, 0.11810733111682836, 0.29470087257607863, 0.2063017645904347, 0.15604365994046127, 0.4118038503791878, 0.4164483122119306, 0.6148408277070984, 0.5309601548710208, 0.0008571107841243463, 0.1387474023562674, 0.0016939026827535065, 0.09560011006515054, 0.07191167697830853, 0.027822351440719335, 0.05953781671491883, 0.008971704623878536, 0.05311811191547482, 0.15024256251736387, 0.031366548645864356, 0.07701957034509012, 0.09974586284502257, 0.05984197766948474, 0.1752565213721052, 0.01645608530015696, 0.005428679488344757, 0.08094931865884902, 0.0726895378406585, 0.0035557738993344527, 0.0020081426898431037, 0.12774851581104568, 0.13045144445360576, 0.06294844659440724, 0.259829804045473, 0.1640713748162468, 0.18638462578409076, 0.05931818759427712, 0.06978578880458709, 0.29848343858572457, 0.13558875942992038, 0.07462140461370319, 0.09951666791239572, 0.2833194173262985, 0.07843019314278887, 0.3614415246022418, 0.2635644420242848, 0.5742024266146125, 0.4241623218736061, 0.3313322797791544, 0.14345422419405693, 0.004538822513556169, 0.20918941196607044, 0.07352491480042107, 0.24076477638348168, 0.2414974177870326, 0.0, 0.13403273102474583, 0.2860501038668682, 0.014682059922044952, 0.16873445691326566, 0.11170085515508285, 0.01775576598590317, 0.20879175264621277, 0.0, 0.017543859649122806]
F1:[0.4325067355803595, 0.1587301587301587, 0.20040733197556002, 0.3910614525139664, 0.5019920318725101, 0.47058823529411764, 0.5956112852664577, 0.13473684210526313, 0.11854684512428296, 0.07999999999999997, 0.4125, 0.47058823529411764, 0.15384615384615385, 0.1252609603340292, 0.10943396226415089, 0.4797507788161994, 0.1857142857142857, 0.3741007194244603, 0.26990553306342774, 0.22556390977443605, 0.46651270207852186, 0.5, 0.624, 0.5714285714285715, 0.0, 0.2234042553191489, 0.0, 0.1414141414141414, 0.11634349030470911, 0.033057851239669415, 0.09523809523809522, 0.0, 0.06474820143884892, 0.24728850325379606, 0.026845637583892617, 0.1371428571428571, 0.08080808080808079, 0.06164383561643833, 0.24999999999999997, 0.014883720930232547, 0.0054794520547945084, 0.09374999999999997, 0.027149321266968323, 0.0, 0.0, 0.1625163826998689, 0.21978021978021972, 0.12413793103448273, 0.29387755102040813, 0.2617586912065439, 0.24784853700516343, 0.12865497076023386, 0.1167883211678832, 0.3693931398416886, 0.1701149425287356, 0.09195402298850572, 0.09811694747274527, 0.3169398907103825, 0.12621359223300968, 0.4344262295081967, 0.2941176470588235, 0.5668789808917197, 0.4867256637168142, 0.3841463414634146, 0.16455696202531642, 0.0, 0.20879120879120874, 0.09929078014184395, 0.21874999999999992, 0.2699999999999999, 0.0, 0.20224719101123595, 0.303030303030303, 0.022029897718332005, 0.28571428571428564, 0.13793103448275862, 0.0, 0.28187919463087246, 0.0, 0.0]
Precision:0.434564 Recall:0.155301 AP:0.173346 F1:0.209507
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_1 -m results/deploy\coco_sp_0006\tflite\model_front.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0006\temp --output results/deploy\coco_sp_0006\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_2 -m results/deploy\coco_sp_0006\tflite\model_post.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0006\temp --output results/deploy\coco_sp_0006\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
