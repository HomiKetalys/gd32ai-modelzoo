{'data': 'modelzoo/coco_sp_0002/coco_sp.data', 'model_path': 'modelzoo/coco_sp_0002/coco-160-epoch-0.174393ap-model.pth', 'convert_type': 1, 'tflite_val_path': '../../../datasets/coco2017/images/val2017', 'c_project_path': None, 'stm32cubeai_path': 'D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1', 'series': 'h7', 'conf_thr': 0.3, 'nms_thr': 0.5, 'eval': True, 'compiler': 1}
pytorch_model_path:modelzoo/coco_sp_0002/coco-160-epoch-0.174393ap-model.pth
load param...
export onnx ...
Checking 0/1...
Checking 0/1...
评估配置:
model_name:coco
width:192 height:192
val:../../../datasets/coco2017/val2017.txt
model_path:results/deploy\coco_sp_0007\tflite
eval_type:onnx or tflite
computer mAP...
computer PR...
Precision:[0.5445488985547916, 0.484375, 0.39497041420118345, 0.6296296296296297, 0.6, 0.6560509554140127, 0.751937984496124, 0.5068493150684932, 0.24050632911392406, 0.3333333333333333, 0.5660377358490566, 0.7027027027027027, 0.7142857142857143, 0.4782608695652174, 0.2980769230769231, 0.6058394160583942, 0.4305555555555556, 0.5472972972972973, 0.26912181303116145, 0.3977272727272727, 0.4926829268292683, 0.5964912280701754, 0.6696428571428571, 0.7105263157894737, 0.0, 0.43478260869565216, 0.0, 0.5135135135135135, 0.40425531914893614, 0.4, 0.3125, 0.0, 0.5294117647058824, 0.47368421052631576, 0.6666666666666666, 0.46153846153846156, 0.5, 0.41379310344827586, 0.5740740740740741, 0.2, 0.08695652173913043, 0.36507936507936506, 0.3333333333333333, 0.0, 0.0, 0.4740740740740741, 0.2813852813852814, 0.3191489361702128, 0.5405405405405406, 0.3165829145728643, 0.3173913043478261, 0.31092436974789917, 0.6153846153846154, 0.7741935483870968, 0.3235294117647059, 0.3055555555555556, 0.4803921568627451, 0.6019417475728155, 0.3333333333333333, 0.5353535353535354, 0.49624060150375937, 0.6453900709219859, 0.6785714285714286, 0.5166666666666667, 0.2653061224489796, 0.0, 0.5675675675675675, 0.75, 0.7142857142857143, 0.5625, 0.0, 0.625, 0.625, 0.1440677966101695, 0.39215686274509803, 0.5609756097560976, 1.0, 0.43617021276595747, 0.0, 0.0]
Recall:[0.35268993093420575, 0.0981012658227848, 0.13819875776397517, 0.2749326145552561, 0.3986013986013986, 0.36140350877192984, 0.5105263157894737, 0.0891566265060241, 0.08837209302325581, 0.04081632653061224, 0.297029702970297, 0.3466666666666667, 0.08333333333333333, 0.07990314769975787, 0.07045454545454545, 0.41089108910891087, 0.14220183486238533, 0.2967032967032967, 0.2631578947368421, 0.18421052631578946, 0.396078431372549, 0.4788732394366197, 0.5597014925373134, 0.46551724137931033, 0.0, 0.14527845036319612, 0.0, 0.07480314960629922, 0.0627062706270627, 0.017391304347826087, 0.04149377593360996, 0.0, 0.034220532319391636, 0.13392857142857142, 0.0273972602739726, 0.08108108108108109, 0.05027932960893855, 0.04460966542750929, 0.13777777777777778, 0.00975609756097561, 0.0058309037900874635, 0.05116796440489433, 0.013953488372093023, 0.0, 0.0, 0.10223642172523961, 0.17150395778364116, 0.06276150627615062, 0.22598870056497175, 0.21951219512195122, 0.2310126582278481, 0.09973045822102426, 0.06299212598425197, 0.25263157894736843, 0.1301775147928994, 0.03481012658227848, 0.05471803461753211, 0.23754789272030652, 0.05830903790087463, 0.32515337423312884, 0.18938307030129126, 0.5083798882681564, 0.3958333333333333, 0.2683982683982684, 0.12264150943396226, 0.0, 0.13725490196078433, 0.05725190839694656, 0.09090909090909091, 0.1888111888111888, 0.0, 0.1111111111111111, 0.1984126984126984, 0.014642549526270457, 0.2247191011235955, 0.08303249097472924, 0.027777777777777776, 0.21465968586387435, 0.0, 0.0]
AP:[0.41524495413090995, 0.10200411405241244, 0.13676412714932398, 0.31463993347728164, 0.440065298716644, 0.3568064480963311, 0.5563505762659601, 0.09448151091197138, 0.08840761250758217, 0.04629578145549556, 0.2921579691247376, 0.3619063418840566, 0.09444444444444444, 0.09080409161251594, 0.057288759533047434, 0.502745733676861, 0.14827405421342166, 0.28320341264424376, 0.20144154930015884, 0.15896776960956557, 0.40151202625580806, 0.4400583073721435, 0.601680049381222, 0.5315395165018367, 0.001501384412875581, 0.13505973200566296, 0.002422299508533367, 0.09214341367878505, 0.06691011068869676, 0.04156169603745041, 0.06100414766304859, 0.03816425120772947, 0.04553656487439065, 0.13396436162423095, 0.03920105166129745, 0.08706878033241088, 0.09082482406601775, 0.07745664654275032, 0.15443408670147366, 0.015451177597074709, 0.0068884842128055955, 0.08834761141121611, 0.06123727420928167, 0.012303382833391061, 0.0060794436301538895, 0.13229642624956273, 0.13202920462282605, 0.054268910230169644, 0.25378894624782494, 0.16290465527951117, 0.18491879103844883, 0.08242814194036852, 0.05963530891241104, 0.3212611950969338, 0.127219815279512, 0.06278221925410095, 0.10384948518271626, 0.28064187226662085, 0.06741511457226991, 0.3373669255914451, 0.2349338576607719, 0.572856806686521, 0.4605163039118674, 0.3089002557739009, 0.12935932962595292, 0.005251526798640862, 0.2016383726463713, 0.07595171206786282, 0.2072050871577799, 0.2613605767971218, 0.0, 0.133841133088431, 0.28433431123773034, 0.01450152890905062, 0.19834025395104907, 0.1139453199218683, 0.04366866866866866, 0.22228430017009806, 0.0, 0.008771929824561403]
F1:[0.4281065578291324, 0.16315789473684206, 0.20475460122699385, 0.38273921200750466, 0.47899159663865537, 0.46606334841628966, 0.6081504702194358, 0.15163934426229508, 0.12925170068027206, 0.0727272727272727, 0.3896103896103896, 0.46428571428571436, 0.14925373134328354, 0.13692946058091282, 0.11397058823529407, 0.4896755162241888, 0.21379310344827582, 0.38479809976247026, 0.26610644257703076, 0.25179856115107907, 0.43913043478260866, 0.53125, 0.6097560975609756, 0.5625, 0.0, 0.2177858439201451, 0.0, 0.13058419243986255, 0.10857142857142854, 0.033333333333333326, 0.07326007326007322, 0.0, 0.06428571428571428, 0.20881670533642685, 0.05263157894736841, 0.13793103448275862, 0.0913705583756345, 0.08053691275167783, 0.22222222222222218, 0.018604651162790687, 0.010928961748633866, 0.08975609756097558, 0.026785714285714277, 0.0, 0.0, 0.1681997371879106, 0.21311475409836061, 0.10489510489510485, 0.31872509960159356, 0.2592592592592592, 0.2673992673992673, 0.15102040816326526, 0.11428571428571425, 0.38095238095238093, 0.18565400843881852, 0.06249999999999997, 0.09824561403508772, 0.3406593406593406, 0.09925558312655082, 0.4045801526717557, 0.27414330218068533, 0.5687500000000001, 0.5, 0.35327635327635326, 0.16774193548387092, 0.0, 0.22105263157894736, 0.10638297872340424, 0.16129032258064516, 0.2827225130890052, 0.0, 0.18867924528301883, 0.3012048192771084, 0.026583268178264254, 0.28571428571428564, 0.14465408805031446, 0.05405405405405406, 0.28771929824561404, 0.0, 0.0]
Precision:0.435008 Recall:0.155769 AP:0.172689 F1:0.209357
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_1 -m results/deploy\coco_sp_0007\tflite\model_front.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0007\temp --output results/deploy\coco_sp_0007\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
Command:
D:/STM32CubeIDE_1.12.1/STM32CubeIDE/STM32Cube/Repo/Packs/STMicroelectronics/X-CUBE-AI/8.0.1\Utilities\windows\stm32ai.exe generate --name network_2 -m results/deploy\coco_sp_0007\tflite\model_post.tflite --type tflite --compression none --verbosity 1 --workspace results/deploy\coco_sp_0007\temp --output results/deploy\coco_sp_0007\Edge_AI\model --allocate-inputs --series stm32h7 --allocate-outputs
will be excuted to generate net codes
Net codes generation successful
